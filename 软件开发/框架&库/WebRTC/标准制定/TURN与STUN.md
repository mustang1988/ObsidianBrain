---
annotation-target: "[[rfc5766.txt.pdf]]"
---

>%%
>```annotation-json
>{"created":"2022-09-16T03:16:03.883Z","text":"Error: 437\n\n当分配请求中的五元组在服务端已经被使用了, 服务端会拒绝本次分配请求, 同时返回一个 437 (Allocation Mismatch) 的错误","updated":"2022-09-16T03:16:03.883Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":63540,"end":63543},{"type":"TextQuoteSelector","exact":"437","prefix":"ejects the request with       a ","suffix":" (Allocation Mismatch) error.   "}]}]}
>```
>%%
>*%%PREFIX%%ejects the request with       a%%HIGHLIGHT%% ==437== %%POSTFIX%%(Allocation Mismatch) error.*
>%%LINK%%[[#^m5jbwnbm5rh|show annotation]]
>%%COMMENT%%
>Error: 437
>
>当分配请求中的五元组在服务端已经被使用了, 服务端会拒绝本次分配请求, 同时返回一个 437 (Allocation Mismatch) 的错误
>%%TAGS%%
>#437
^m5jbwnbm5rh


>%%
>```annotation-json
>{"created":"2022-09-16T03:18:34.778Z","text":"Error: 400\n\n当分配请求中有包含 REQUESTED-TRANSPORT 属性时, 且该属性的值 不是有效的可选值之一, 服务端会拒绝本次分配请求, 同时返回一个 400(Bad Request) 的错误","updated":"2022-09-16T03:18:34.778Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":63775,"end":63778},{"type":"TextQuoteSelector","exact":"400","prefix":"rver rejects the request with a ","suffix":" (Bad       Request) error.  Oth"}]}]}
>```
>%%
>*%%PREFIX%%rver rejects the request with a%%HIGHLIGHT%% ==400== %%POSTFIX%%(Bad       Request) error.  Oth*
>%%LINK%%[[#^r7usd59d9xd|show annotation]]
>%%COMMENT%%
>Error: 400
>
>当分配请求中有包含 REQUESTED-TRANSPORT 属性时, 且该属性的值 不是有效的可选值之一, 服务端会拒绝本次分配请求, 同时返回一个 400(Bad Request) 的错误
>%%TAGS%%
>#400
^r7usd59d9xd


>%%
>```annotation-json
>{"created":"2022-09-16T03:20:17.459Z","text":"Error: 422\n\n当分配请求中包含 REQUESTED-TRANSPORT 属性时, 且该属性的值不是UDP时, 服务端会拒绝本次分配请求, 同时返回一个422(Unsupported Transport Protocol) 的错误","updated":"2022-09-16T03:20:17.459Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":63938,"end":63941},{"type":"TextQuoteSelector","exact":"442","prefix":"ejects the       request with a ","suffix":" (Unsupported Transport Protocol"}]}]}
>```
>%%
>*%%PREFIX%%ejects the       request with a%%HIGHLIGHT%% ==442== %%POSTFIX%%(Unsupported Transport Protocol*
>%%LINK%%[[#^hhx7uhyl6w|show annotation]]
>%%COMMENT%%
>Error: 422
>
>当分配请求中包含 REQUESTED-TRANSPORT 属性时, 且该属性的值不是UDP时, 服务端会拒绝本次分配请求, 同时返回一个422(Unsupported Transport Protocol) 的错误
>%%TAGS%%
>#422
^hhx7uhyl6w


>%%
>```annotation-json
>{"created":"2022-09-16T03:22:50.490Z","text":"Error: 400\n\n如果分配请求中包含属性 RESERVATION-TOKEN 且 请求中又同时包含属性 EVEN-PORT, 服务端会拒绝本次分配请求并返回一个400 (Bad Request) 的错误","updated":"2022-09-16T03:22:50.490Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":64638,"end":64641},{"type":"TextQuoteSelector","exact":"400","prefix":"rver rejects the request with a ","suffix":" (Bad       Request) error.  Oth"}]}]}
>```
>%%
>*%%PREFIX%%rver rejects the request with a%%HIGHLIGHT%% ==400== %%POSTFIX%%(Bad       Request) error.  Oth*
>%%LINK%%[[#^pzd3wlgpl4e|show annotation]]
>%%COMMENT%%
>Error: 400
>
>如果分配请求中包含属性 RESERVATION-TOKEN 且 请求中又同时包含属性 EVEN-PORT, 服务端会拒绝本次分配请求并返回一个400 (Bad Request) 的错误
>%%TAGS%%
>#400
^pzd3wlgpl4e


>%%
>```annotation-json
>{"created":"2022-09-16T03:25:24.384Z","text":"Error: 508\n\n如果分配请求中包含字段 RESERVATION-TOKEN 且 **==不包含==**字段 EVEN-PORT时, 如果 RESERVATION-TOKEN 属性的值校验不通过, 服务端会拒绝本次分配请求并返回一个508 (Insufficient Capacity) 的错误","updated":"2022-09-16T03:25:24.384Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":64944,"end":64947},{"type":"TextQuoteSelector","exact":"508","prefix":"ejects the       request with a ","suffix":" (Insufficient Capacity) error. "}]}]}
>```
>%%
>*%%PREFIX%%ejects the       request with a%%HIGHLIGHT%% ==508== %%POSTFIX%%(Insufficient Capacity) error.*
>%%LINK%%[[#^wz8xbecz2se|show annotation]]
>%%COMMENT%%
>Error: 508
>
>如果分配请求中包含字段 RESERVATION-TOKEN 且 **==不包含==**字段 EVEN-PORT时, 如果 RESERVATION-TOKEN 属性的值校验不通过, 服务端会拒绝本次分配请求并返回一个508 (Insufficient Capacity) 的错误
>%%TAGS%%
>#508
^wz8xbecz2se


>%%
>```annotation-json
>{"created":"2022-09-16T03:28:11.144Z","text":"Error: 508\n\n如果分配请求中包含属性 EVEN-PORT, 服务端会检查是否可以满足 EVEN-PORT 属性值的端口, 如果不可以, 服务端会拒绝本次分配请求, 并返回一个508 (Insufficient Capacity) 的错误","updated":"2022-09-16T03:28:11.144Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":65293,"end":65296},{"type":"TextQuoteSelector","exact":"508","prefix":"rver rejects the request with a ","suffix":" (Insufficient Capacity)       e"}]}]}
>```
>%%
>*%%PREFIX%%rver rejects the request with a%%HIGHLIGHT%% ==508== %%POSTFIX%%(Insufficient Capacity)       e*
>%%LINK%%[[#^rsysyxxlu4r|show annotation]]
>%%COMMENT%%
>Error: 508
>
>如果分配请求中包含属性 EVEN-PORT, 服务端会检查是否可以满足 EVEN-PORT 属性值的端口, 如果不可以, 服务端会拒绝本次分配请求, 并返回一个508 (Insufficient Capacity) 的错误
>%%TAGS%%
>#508
^rsysyxxlu4r


>%%
>```annotation-json
>{"created":"2022-09-16T06:07:49.074Z","text":"Error: 486\n\n当服务端觉得客户端尝试超出本地定义的分配配额时, 可以选择性的拒绝分配请求, 并返回一个 486(Allocation Quota Reached) 的错误","updated":"2022-09-16T06:07:49.074Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":65411,"end":65414},{"type":"TextQuoteSelector","exact":"486","prefix":"reject the request with a       ","suffix":" (Allocation Quota Reached) erro"}]}]}
>```
>%%
>*%%PREFIX%%reject the request with a%%HIGHLIGHT%% ==486== %%POSTFIX%%(Allocation Quota Reached) erro*
>%%LINK%%[[#^2gj3zvpq4sv|show annotation]]
>%%COMMENT%%
>Error: 486
>
>当服务端觉得客户端尝试超出本地定义的分配配额时, 可以选择性的拒绝分配请求, 并返回一个 486(Allocation Quota Reached) 的错误
>%%TAGS%%
>#486
^2gj3zvpq4sv


>%%
>```annotation-json
>{"created":"2022-09-16T06:09:58.434Z","text":"Error: 300\n\n当服务端期望将客户端重定向到其他服务器时, 可以选择性的拒绝分配请求, 并返回一个300(Try Alternate) 的错误","updated":"2022-09-16T06:09:58.434Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":65827,"end":65830},{"type":"TextQuoteSelector","exact":"300","prefix":"reject the request       with a ","suffix":" (Try Alternate) error if it wis"}]}]}
>```
>%%
>*%%PREFIX%%reject the request       with a%%HIGHLIGHT%% ==300== %%POSTFIX%%(Try Alternate) error if it wis*
>%%LINK%%[[#^52e0fa1ad4f|show annotation]]
>%%COMMENT%%
>Error: 300
>
>当服务端期望将客户端重定向到其他服务器时, 可以选择性的拒绝分配请求, 并返回一个300(Try Alternate) 的错误
>%%TAGS%%
>#300
^52e0fa1ad4f


>%%
>```annotation-json
>{"created":"2022-09-16T06:12:13.053Z","text":"当所有上述检查项均检查通过, 服务端会创建分配, 分配的5元组信息使用的时分配请求中提供的5元组信息, 权限列表与通道列表初始化值为空","updated":"2022-09-16T06:12:13.053Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":66007,"end":66207},{"type":"TextQuoteSelector","exact":"If all the checks pass, the server creates the allocation.  The   5-tuple is set to the 5-tuple from the Allocate request, while the   list of permissions and the list of channels are initially empty.","prefix":"e specification in [RFC5389].   ","suffix":"   The server chooses a relayed "}]}]}
>```
>%%
>*%%PREFIX%%e specification in [RFC5389].%%HIGHLIGHT%% ==If all the checks pass, the server creates the allocation.  The   5-tuple is set to the 5-tuple from the Allocate request, while the   list of permissions and the list of channels are initially empty.== %%POSTFIX%%The server chooses a relayed*
>%%LINK%%[[#^51x034hg5|show annotation]]
>%%COMMENT%%
>当所有上述检查项均检查通过, 服务端会创建分配, 分配的5元组信息使用的时分配请求中提供的5元组信息, 权限列表与通道列表初始化值为空
>%%TAGS%%
>
^51x034hg5


>%%
>```annotation-json
>{"created":"2022-09-16T06:15:44.519Z","text":"服务端分配的端口号**==应处于以下范围内==**\n49152~65535","updated":"2022-09-16T06:15:44.519Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":68139,"end":68262},{"type":"TextQuoteSelector","exact":"the server SHOULD only allocate ports from the range   49152 - 65535 (the Dynamic and/or Private Port range [Port-Numbers])","prefix":"t      address.   In all cases, ","suffix":",   unless the TURN server appli"}]}]}
>```
>%%
>*%%PREFIX%%t      address.   In all cases,%%HIGHLIGHT%% ==the server SHOULD only allocate ports from the range   49152 - 65535 (the Dynamic and/or Private Port range [Port-Numbers])== %%POSTFIX%%,   unless the TURN server appli*
>%%LINK%%[[#^rkgqy2sgiv|show annotation]]
>%%COMMENT%%
>服务端分配的端口号**==应处于以下范围内==**
>49152~65535
>%%TAGS%%
>
^rkgqy2sgiv


>%%
>```annotation-json
>{"created":"2022-09-16T06:20:55.016Z","text":"**==建议==**服务端的最大lifetime设置**==不超过==**3600秒","updated":"2022-09-16T06:20:55.016Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":70165,"end":70177},{"type":"TextQuoteSelector","exact":"3600 seconds","prefix":" lifetime value of no more than ","suffix":" (1   hour).  Servers that imple"}]}]}
>```
>%%
>*%%PREFIX%%lifetime value of no more than%%HIGHLIGHT%% ==3600 seconds== %%POSTFIX%%(1   hour).  Servers that imple*
>%%LINK%%[[#^0i04dx9j3ysc|show annotation]]
>%%COMMENT%%
>**==建议==**服务端的最大lifetime设置**==不超过==**3600秒
>%%TAGS%%
>
^0i04dx9j3ysc


>%%
>```annotation-json
>{"created":"2022-09-16T06:22:11.764Z","text":"服务端通过以下方式来决定初始 time-to-expiry\n\n如果分配请求中包含属性 LIFETIME\n服务端会计算客户端客户端建议的最小生命周期, 和服务端的最大声明周期, 如果计算结果大于默认声明周期, 则服务端会使用计算得到的声明周期作为初始值\n\n反之\n直接使用服务端的默认生命周期值","updated":"2022-09-16T06:22:11.764Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":69617,"end":70073},{"type":"TextQuoteSelector","exact":"The server determines the initial value of the time-to-expiry field   as follows.  If the request contains a LIFETIME attribute, then the   server computes the minimum of the client’s proposed lifetime and the   server’s maximum allowed lifetime.  If this computed value is greater   than the default lifetime, then the server uses the computed lifetime   as the initial value of the time-to-expiry field.  Otherwise, the   server uses the default lifetime","prefix":"                   April 2010   ","suffix":".  It is RECOMMENDED that the se"}]}]}
>```
>%%
>*%%PREFIX%%April 2010%%HIGHLIGHT%% ==The server determines the initial value of the time-to-expiry field   as follows.  If the request contains a LIFETIME attribute, then the   server computes the minimum of the client’s proposed lifetime and the   server’s maximum allowed lifetime.  If this computed value is greater   than the default lifetime, then the server uses the computed lifetime   as the initial value of the time-to-expiry field.  Otherwise, the   server uses the default lifetime== %%POSTFIX%%.  It is RECOMMENDED that the se*
>%%LINK%%[[#^6vt1voqqiv6|show annotation]]
>%%COMMENT%%
>服务端通过以下方式来决定初始 time-to-expiry
>
>如果分配请求中包含属性 LIFETIME
>服务端会计算客户端客户端建议的最小生命周期, 和服务端的最大声明周期, 如果计算结果大于默认声明周期, 则服务端会使用计算得到的声明周期作为初始值
>
>反之
>直接使用服务端的默认生命周期值
>%%TAGS%%
>
^6vt1voqqiv6


>%%
>```annotation-json
>{"created":"2022-09-19T02:12:35.305Z","text":"XOR-RELAYED-ADDRESS\n\n成功完成分配请求后, 返回的响应结果应包含该属性, 其中包括分配的\n\n转发传输地址","updated":"2022-09-19T02:12:35.305Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":70844,"end":70863},{"type":"TextQuoteSelector","exact":"XOR-RELAYED-ADDRESS","prefix":"cess response contains:   o  An ","suffix":" attribute containing the relaye"}]}]}
>```
>%%
>*%%PREFIX%%cess response contains:   o  An%%HIGHLIGHT%% ==XOR-RELAYED-ADDRESS== %%POSTFIX%%attribute containing the relaye*
>%%LINK%%[[#^dbvet574i2|show annotation]]
>%%COMMENT%%
>XOR-RELAYED-ADDRESS
>
>成功完成分配请求后, 返回的响应结果应包含该属性, 其中包括分配的
>
>转发传输地址
>%%TAGS%%
>#响应, #XOR-RELAYED-ADDRESS
^dbvet574i2


>%%
>```annotation-json
>{"created":"2022-09-19T02:14:10.847Z","text":"LIFETIME\n\n成功完成分配请求后, 返回的响应结果应包含该属性, 其中包含当前的 time-to-expiry 计时器","updated":"2022-09-19T02:14:10.847Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":70928,"end":70936},{"type":"TextQuoteSelector","exact":"LIFETIME","prefix":" transport      address.   o  A ","suffix":" attribute containing the curren"}]}]}
>```
>%%
>*%%PREFIX%%transport      address.   o  A%%HIGHLIGHT%% ==LIFETIME== %%POSTFIX%%attribute containing the curren*
>%%LINK%%[[#^2893l8wjl6j|show annotation]]
>%%COMMENT%%
>LIFETIME
>
>成功完成分配请求后, 返回的响应结果应包含该属性, 其中包含当前的 time-to-expiry 计时器
>%%TAGS%%
>#LIFETIME, #响应
^2893l8wjl6j


>%%
>```annotation-json
>{"created":"2022-09-19T02:17:20.309Z","text":"RESERVATION-TOKEN\n\n成功完成分配请求后, 返回的响应结果 **==可以==** 包含该属性, 如果有保留第二转发地址时","updated":"2022-09-19T02:17:20.309Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":71018,"end":71035},{"type":"TextQuoteSelector","exact":"RESERVATION-TOKEN","prefix":"e-to-      expiry timer.   o  A ","suffix":" attribute (if a second relayed "}]}]}
>```
>%%
>*%%PREFIX%%e-to-      expiry timer.   o  A%%HIGHLIGHT%% ==RESERVATION-TOKEN== %%POSTFIX%%attribute (if a second relayed*
>%%LINK%%[[#^wecoj7th6j|show annotation]]
>%%COMMENT%%
>RESERVATION-TOKEN
>
>成功完成分配请求后, 返回的响应结果 **==可以==** 包含该属性, 如果有保留第二转发地址时
>%%TAGS%%
>#RESERVATION-TOKEN, #响应
^wecoj7th6j


>%%
>```annotation-json
>{"created":"2022-09-19T06:28:30.949Z","text":"XOR-MAPPED-ADDRESS\n\n","updated":"2022-09-19T06:28:30.949Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":71113,"end":71131},{"type":"TextQuoteSelector","exact":"XOR-MAPPED-ADDRESS","prefix":" address was reserved).   o  An ","suffix":" attribute containing the client"}]}]}
>```
>%%
>*%%PREFIX%%address was reserved).   o  An%%HIGHLIGHT%% ==XOR-MAPPED-ADDRESS== %%POSTFIX%%attribute containing the client*
>%%LINK%%[[#^1bcxk0zzdtf|show annotation]]
>%%COMMENT%%
>XOR-MAPPED-ADDRESS
>
>
>%%TAGS%%
>#XOR-MAPPED-ADDRESS, #响应
^1bcxk0zzdtf


>%%
>```annotation-json
>{"created":"2022-09-19T06:30:17.307Z","text":"请求超时\n\n当服务端发生问题或者当前使用的协议无法正常请求到服务端时发生\n\n客户端可以使用当前协议重新尝试连接服务器或者变更请求的传输协议, 例如 用TCP改为使用UDP协议","updated":"2022-09-19T06:30:17.307Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":75933,"end":75950},{"type":"TextQuoteSelector","exact":"Request timed out","prefix":"tual error code returned:   o  (","suffix":"): There is either a problem wit"}]}]}
>```
>%%
>*%%PREFIX%%tual error code returned:   o  (%%HIGHLIGHT%% ==Request timed out== %%POSTFIX%%): There is either a problem wit*
>%%LINK%%[[#^fix1dizv19j|show annotation]]
>%%COMMENT%%
>请求超时
>
>当服务端发生问题或者当前使用的协议无法正常请求到服务端时发生
>
>客户端可以使用当前协议重新尝试连接服务器或者变更请求的传输协议, 例如 用TCP改为使用UDP协议
>%%TAGS%%
>
^fix1dizv19j


>%%
>```annotation-json
>{"created":"2022-09-19T06:34:51.184Z","text":"Error: 420\n\n如果请求中包含属性 DONT-FRAGMENT, 而服务端并不支持次属性时, 服务端会返回 420(Unknown Attribute) 错误, 并在返回的响应信息中, 将 DONT-FRAGMENT 放入UNKNOWN-ATTRIBUTES 属性中\n\n此时, 客户端就知道服务端并不支持 DONT-FRAGMENT 属性, 则再次尝试发送请求时, 请求中不应再有该属性","updated":"2022-09-19T06:34:51.184Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":78037,"end":78040},{"type":"TextQuoteSelector","exact":"420","prefix":"oblem has      been fixed.   o  ","suffix":" (Unknown Attribute): If the cli"}]}]}
>```
>%%
>*%%PREFIX%%oblem has      been fixed.   o%%HIGHLIGHT%% ==420== %%POSTFIX%%(Unknown Attribute): If the cli*
>%%LINK%%[[#^pvijugbhq8d|show annotation]]
>%%COMMENT%%
>Error: 420
>
>如果请求中包含属性 DONT-FRAGMENT, 而服务端并不支持次属性时, 服务端会返回 420(Unknown Attribute) 错误, 并在返回的响应信息中, 将 DONT-FRAGMENT 放入UNKNOWN-ATTRIBUTES 属性中
>
>此时, 客户端就知道服务端并不支持 DONT-FRAGMENT 属性, 则再次尝试发送请求时, 请求中不应再有该属性
>%%TAGS%%
>#420
^pvijugbhq8d


>%%
>```annotation-json
>{"created":"2022-09-19T06:39:19.301Z","text":"客户端收到 437 响应说明, 请求中携带的 5元组信息在服务端已经被使用, 客户端应重新选择新的传输地址后再尝试发送分配请求到同一服务器\n\n客户端在放弃服务端前应尝试**==3次==**不同的传输地址\n\n客户端在放弃服务端连接后, 应在2分钟内不再向同一服务器发送分配请求","updated":"2022-09-19T06:39:19.301Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":78908,"end":79269},{"type":"TextQuoteSelector","exact":"The client SHOULD pick another client transport address      and retry the Allocate request (using a different transaction id).      The client SHOULD try three different client transport addresses      before giving up on this server.  Once the client gives up on the      server, it SHOULD NOT try to create another allocation on the      server for 2 minutes","prefix":"saction as having      failed.  ","suffix":".   o  438 (Stale Nonce): See th"}]}]}
>```
>%%
>*%%PREFIX%%saction as having      failed.%%HIGHLIGHT%% ==The client SHOULD pick another client transport address      and retry the Allocate request (using a different transaction id).      The client SHOULD try three different client transport addresses      before giving up on this server.  Once the client gives up on the      server, it SHOULD NOT try to create another allocation on the      server for 2 minutes== %%POSTFIX%%.   o  438 (Stale Nonce): See th*
>%%LINK%%[[#^8simij9ithk|show annotation]]
>%%COMMENT%%
>客户端收到 437 响应说明, 请求中携带的 5元组信息在服务端已经被使用, 客户端应重新选择新的传输地址后再尝试发送分配请求到同一服务器
>
>客户端在放弃服务端前应尝试**==3次==**不同的传输地址
>
>客户端在放弃服务端连接后, 应在2分钟内不再向同一服务器发送分配请求
>%%TAGS%%
>
^8simij9ithk


>%%
>```annotation-json
>{"created":"2022-09-19T06:42:32.849Z","updated":"2022-09-19T06:42:32.849Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":79276,"end":79279},{"type":"TextQuoteSelector","exact":"438","prefix":"     server for 2 minutes.   o  ","suffix":" (Stale Nonce): See the procedur"}]}]}
>```
>%%
>*%%PREFIX%%server for 2 minutes.   o%%HIGHLIGHT%% ==438== %%POSTFIX%%(Stale Nonce): See the procedur*
>%%LINK%%[[#^i0kwj0yp0ae|show annotation]]
>%%COMMENT%%
>
>%%TAGS%%
>
^i0kwj0yp0ae


>%%
>```annotation-json
>{"created":"2022-09-19T06:42:38.533Z","text":"Error: 441\n\n连接凭证(密码)错误时, 服务端会返回 441(Wrong Credentials) 的错误, 客户端再接收到次错误后, 不应再继续尝试向服务端发送分配请求, 应告知用户或操作端, 待其修复错误的凭证后再尝试重新发送分配请求","updated":"2022-09-19T06:42:38.533Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":79374,"end":79377},{"type":"TextQuoteSelector","exact":"441","prefix":"      mechanism [RFC5389].   o  ","suffix":" (Wrong Credentials): The client"}]}]}
>```
>%%
>*%%PREFIX%%mechanism [RFC5389].   o%%HIGHLIGHT%% ==441== %%POSTFIX%%(Wrong Credentials): The client*
>%%LINK%%[[#^t551siox1ie|show annotation]]
>%%COMMENT%%
>Error: 441
>
>连接凭证(密码)错误时, 服务端会返回 441(Wrong Credentials) 的错误, 客户端再接收到次错误后, 不应再继续尝试向服务端发送分配请求, 应告知用户或操作端, 待其修复错误的凭证后再尝试重新发送分配请求
>%%TAGS%%
>#441
^t551siox1ie


>%%
>```annotation-json
>{"created":"2022-09-19T06:46:23.032Z","text":"当客户端接收到次错误码时, 不应再继续尝试用相同的参数发送分配请求到服务端, 应通知用户或操作方, 修复问题, 待问题修复后再尝试发送请求","updated":"2022-09-19T06:46:23.032Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":79640,"end":79643},{"type":"TextQuoteSelector","exact":"442","prefix":"he problem has been fixed.   o  ","suffix":" (Unsupported Transport Address)"}]}]}
>```
>%%
>*%%PREFIX%%he problem has been fixed.   o%%HIGHLIGHT%% ==442== %%POSTFIX%%(Unsupported Transport Address)*
>%%LINK%%[[#^fnmq1lu04p|show annotation]]
>%%COMMENT%%
>当客户端接收到次错误码时, 不应再继续尝试用相同的参数发送分配请求到服务端, 应通知用户或操作方, 修复问题, 待问题修复后再尝试发送请求
>%%TAGS%%
>
^fnmq1lu04p


>%%
>```annotation-json
>{"created":"2022-09-19T06:47:56.557Z","text":"客户端收到次错误码后, 表明服务端暂时已经不能再分配更多的地址, 此时客户端应至少等待1分钟后, 再尝试重新发送分配请求","updated":"2022-09-19T06:47:56.557Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":79934,"end":79937},{"type":"TextQuoteSelector","exact":"486","prefix":"oblem has      been fixed.   o  ","suffix":" (Allocation Quota Reached): The"}]}]}
>```
>%%
>*%%PREFIX%%oblem has      been fixed.   o%%HIGHLIGHT%% ==486== %%POSTFIX%%(Allocation Quota Reached): The*
>%%LINK%%[[#^ksl62frckm|show annotation]]
>%%COMMENT%%
>客户端收到次错误码后, 表明服务端暂时已经不能再分配更多的地址, 此时客户端应至少等待1分钟后, 再尝试重新发送分配请求
>%%TAGS%%
>
^ksl62frckm


>%%
>```annotation-json
>{"created":"2022-09-19T06:50:01.243Z","text":"客户端收到次错误码后, 表明服务端已经无法再提供更多的转发地址, 如果客户端发送的请求中有包含以下属性, 则可以将这些属性移除后立刻重新发送分配请求\n\n- EVEN-PORT\n- RESERVATION-TOKEN\n\n如果请求中不包含上述此属性, 则客户端应等待至少1分钟后再尝试向同一服务端发送新的分配请求","updated":"2022-09-19T06:50:01.243Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":80383,"end":80386},{"type":"TextQuoteSelector","exact":"508","prefix":"                April 2010   o  ","suffix":" (Insufficient Capacity): The se"}]}]}
>```
>%%
>*%%PREFIX%%April 2010   o%%HIGHLIGHT%% ==508== %%POSTFIX%%(Insufficient Capacity): The se*
>%%LINK%%[[#^zvigj2aybe|show annotation]]
>%%COMMENT%%
>客户端收到次错误码后, 表明服务端已经无法再提供更多的转发地址, 如果客户端发送的请求中有包含以下属性, 则可以将这些属性移除后立刻重新发送分配请求
>
>- EVEN-PORT
>- RESERVATION-TOKEN
>
>如果请求中不包含上述此属性, 则客户端应等待至少1分钟后再尝试向同一服务端发送新的分配请求
>%%TAGS%%
>
^zvigj2aybe


>%%
>```annotation-json
>{"created":"2022-09-19T06:55:58.307Z","text":"刷新分配:\n\n刷新分配可以用于以下2个目的\n\n- 刷新已经分配传输地址的过期时间 (time-to-expiry)\n- 删除已经分配的传输地址\n\n如果客户端期望继续使用已经分配的传输地址, 那么客户端必须在分配到期前执行刷新, 建议在分配到期前大约1分中的时候, 发送刷新请求, 以刷新分配的过期时间, 从而延长使用期限\n\n如果客户端不再期望继续使用已经分配的传输地址, 则**==必须显示地==**通过发送请求来删除已经分配的地址\n\n当然出去以上原因, 客户端可以在当前分配的传输地址过期前的任意时刻通过发送刷新请求到服务端, 以更新传输地址的过期时间","updated":"2022-09-19T06:55:58.307Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":81029,"end":81053},{"type":"TextQuoteSelector","exact":"Refreshing an Allocation","prefix":"d as described in [RFC5389].7.  ","suffix":"   A Refresh transaction can be "}]}]}
>```
>%%
>*%%PREFIX%%d as described in [RFC5389].7.%%HIGHLIGHT%% ==Refreshing an Allocation== %%POSTFIX%%A Refresh transaction can be*
>%%LINK%%[[#^qvnx3if2uc|show annotation]]
>%%COMMENT%%
>刷新分配:
>
>刷新分配可以用于以下2个目的
>
>- 刷新已经分配传输地址的过期时间 (time-to-expiry)
>- 删除已经分配的传输地址
>
>如果客户端期望继续使用已经分配的传输地址, 那么客户端必须在分配到期前执行刷新, 建议在分配到期前大约1分中的时候, 发送刷新请求, 以刷新分配的过期时间, 从而延长使用期限
>
>如果客户端不再期望继续使用已经分配的传输地址, 则**==必须显示地==**通过发送请求来删除已经分配的地址
>
>当然出去以上原因, 客户端可以在当前分配的传输地址过期前的任意时刻通过发送刷新请求到服务端, 以更新传输地址的过期时间
>%%TAGS%%
>
^qvnx3if2uc


>%%
>```annotation-json
>{"created":"2022-09-19T10:56:47.389Z","text":"LIFETIME\n\n如果客户端期望设置一个不同于默认time-to-expiry值的生命周期计时器, 则需要在刷新请求中包含LIFETIME属性, 并在该属性中指定期望的time-to-expiry值\n\n服务端在接收到携带LIFETIME属性的刷新请求后, 会计算新的time-to-expiry值并在响应的LIFETIME属性中返回该值, 计算方式:\n\n- 请求中的LIFETIME值不等于0\n- 如果请求中的LIFETIME >= 服务端默认值, 且<= 服务端允许的最大值, 使用请求中的LIFETIME值作为新的time-to-expiry\n- 如果请求中的LIFETIME < 服务端默认值, 依旧使用服务端默认值作为新的time-to-expiry\n\n如果刷新请求中指定的LIFETIME属性值**==为0==**, 则表示客户端不再需要次分配的传输地址, 请求关闭响应的传输地址与端口, 服务端在接收到 LIFETIME 值为0 的刷新请求后, 会**==立刻==** 删除并释放该分配的地址和端口","updated":"2022-09-19T10:56:47.389Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":81874,"end":82047},{"type":"TextQuoteSelector","exact":"If the client wishes the server to set the time-to-   expiry timer to something other than the default lifetime, it   includes a LIFETIME attribute with the requested value.","prefix":"piry timer of an   allocation.  ","suffix":"  The server   then computes a n"}]}]}
>```
>%%
>*%%PREFIX%%piry timer of an   allocation.%%HIGHLIGHT%% ==If the client wishes the server to set the time-to-   expiry timer to something other than the default lifetime, it   includes a LIFETIME attribute with the requested value.== %%POSTFIX%%The server   then computes a n*
>%%LINK%%[[#^mzufy0d8geh|show annotation]]
>%%COMMENT%%
>LIFETIME
>
>如果客户端期望设置一个不同于默认time-to-expiry值的生命周期计时器, 则需要在刷新请求中包含LIFETIME属性, 并在该属性中指定期望的time-to-expiry值
>
>服务端在接收到携带LIFETIME属性的刷新请求后, 会计算新的time-to-expiry值并在响应的LIFETIME属性中返回该值, 计算方式:
>
>- 请求中的LIFETIME值不等于0
>- 如果请求中的LIFETIME >= 服务端默认值, 且<= 服务端允许的最大值, 使用请求中的LIFETIME值作为新的time-to-expiry
>- 如果请求中的LIFETIME < 服务端默认值, 依旧使用服务端默认值作为新的time-to-expiry
>
>如果刷新请求中指定的LIFETIME属性值**==为0==**, 则表示客户端不再需要次分配的传输地址, 请求关闭响应的传输地址与端口, 服务端在接收到 LIFETIME 值为0 的刷新请求后, 会**==立刻==** 删除并释放该分配的地址和端口
>%%TAGS%%
>#LIFETIME
^mzufy0d8geh



>%%
>```annotation-json
>{"created":"2022-09-19T11:12:25.932Z","text":"发送指令\n\n","updated":"2022-09-19T11:12:25.932Z","document":{"title":"Enscript Output","link":[{"href":"urn:x-pdf:d29d45070413fdaa0ee018260aa891b4"},{"href":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf"}],"documentFingerprint":"d29d45070413fdaa0ee018260aa891b4"},"uri":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","target":[{"source":"vault:/%E5%9B%BE%E7%89%87/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E6%A1%86%E6%9E%B6&%E5%BA%93/WebRTC/PDF/rfc5766.txt.pdf","selector":[{"type":"TextPositionSelector","start":90649,"end":90674},{"type":"TextQuoteSelector","exact":"Forming a Send Indication","prefix":" the Channel   mechanism.10.1.  ","suffix":"   The client can use a Send ind"}]}]}
>```
>%%
>*%%PREFIX%%the Channel   mechanism.10.1.%%HIGHLIGHT%% ==Forming a Send Indication== %%POSTFIX%%The client can use a Send ind*
>%%LINK%%[[#^xw1zyah5jrd|show annotation]]
>%%COMMENT%%
>发送指令
>
>
>%%TAGS%%
>
^xw1zyah5jrd
